--- navit/gui/gtk/gui_gtk_window.c.orig	2010-05-23 23:31:46.000000000 -0400
+++ navit/gui/gtk/gui_gtk_window.c	2010-05-23 23:43:08.000000000 -0400
@@ -209,7 +209,7 @@
 	graphics=graphics_get_data(gra, "gtk_widget");
 	if (! graphics)
 		return 1;
-	GTK_WIDGET_SET_FLAGS (graphics, GTK_CAN_FOCUS);
+	gtk_widget_set_can_focus(graphics, TRUE);
 	gtk_widget_set_sensitive(graphics, TRUE);
 	g_signal_connect(G_OBJECT(graphics), "key-press-event", G_CALLBACK(keypress), this);
 	gtk_box_pack_end(GTK_BOX(this->vbox), graphics, TRUE, TRUE, 0);
@@ -253,7 +253,7 @@
 	gtk_box_pack_start(GTK_BOX(hbox), button_cancel, TRUE, TRUE, 10);
 	gtk_box_pack_start(GTK_BOX(vbox), hbox, TRUE, TRUE, 10);
 	gtk_widget_show_all(gui->dialog_win);
-	GTK_WIDGET_SET_FLAGS (button_ok, GTK_CAN_DEFAULT);
+	gtk_widget_set_can_default(button_ok, TRUE);
 	gtk_widget_grab_default(button_ok);
 	g_signal_connect_swapped (G_OBJECT (button_cancel), "clicked", G_CALLBACK (gtk_widget_destroy), G_OBJECT (gui->dialog_win));
 	g_signal_connect_swapped (G_OBJECT (gui->dialog_entry), "activate", G_CALLBACK (gui_gtk_add_bookmark_do), gui);
@@ -730,14 +730,14 @@
 	gui_gtk_ui_init(this);
 	if (this->menubar_enable) {
 		widget=gtk_ui_manager_get_widget(this->ui_manager, "/ui/MenuBar");
-		GTK_WIDGET_UNSET_FLAGS (widget, GTK_CAN_FOCUS);
+		gtk_widget_set_can_focus(widget, FALSE);
 		gtk_box_pack_start (GTK_BOX(this->vbox), widget, FALSE, FALSE, 0);
 		gtk_widget_show (widget);
 		this->menubar=widget;
 	}
 	if (this->toolbar_enable) {
 		widget=gtk_ui_manager_get_widget(this->ui_manager, "/ui/ToolBar");
-		GTK_WIDGET_UNSET_FLAGS (widget, GTK_CAN_FOCUS);
+		gtk_widget_set_can_focus(widget, FALSE);
 		gtk_box_pack_start (GTK_BOX(this->vbox), widget, FALSE, FALSE, 0);
 		gtk_widget_show (widget);
 	}
